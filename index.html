<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1" media="(device-height: 568px)">

	    <!--// Styles ( Managed by Grunt in ./src/scss folder ) //-->
	    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">
        <link rel="stylesheet" type="text/css" href="assets/css/main.css">
        <title>Facing</title>
    </head>
    <body>
        <div class="container">

	        <!--// Start Header //-->
	        <header class="slide">
                <ul id="navToggle" class="burger slide">
                    <li></li><li></li><li></li>
                </ul>
	            <div class="reset-gui">
		            <a href="javascript:void(0);" class="force-reset-gui"><i class="fa fa-times"></i></a>
	            </div>
            </header>
	        <!--// End Header //-->

	        <!--// Start Menu //-->
            <nav class="slide">
                <ul class="menu">
                    <li><a href="javascript:void(0);" data-panel="home" class="active" id="facing-home"><i class="fa fa-map-marker fa-fw"></i> Facing</a></li>
	                <li><a href="javascript:void(0);" data-panel="home" id="trigger-tour"><i class="fa fa-question-circle fa-fw"></i> Help</a></li>
	                <!--<li><a href="javascript:void(0);" data-panel="about" id="about-us"><i class="fa fa-info fa-fw"></i> About</a></li>-->
	                <li><a href="javascript:void(0);" data-panel="feedback" id="feedback-tab"><i class="fa fa-comments fa-fw"></i> Feedback</a></li>

	                <li class="devonly spacer"><a href="javascript:void(0);" data-panel="my-data"><i class="fa fa-crosshairs fa-fw"></i> My Data</a></li>
                    <li class="devonly"><a href="javascript:void(0);" data-panel="friends-data"><i class="fa fa-crosshairs fa-fw"></i> Friends Data</a></li>
	                <li class="devonly"><a href="javascript:void(0);" data-panel="dev-log" id="trigger-console"><i class="fa fa-terminal fa-fw"></i> Console</a></li>
                </ul>
            </nav>
	        <!--// End Menu //-->

	        <!--// Start Content //-->
	        <div class="content slide">

		        <div class="logo animated fadeInDown"></div>

		        <!--// Start Facing //-->
		        <div id="home" class="panel active">

			        <!--// Start Location Markers //-->
			        <div class="location-marker self self-marker"></div>
                    <div class="location-marker friend friend-marker"></div>
			        <!--// End Location Markers //-->

			        <!--// Start Socket Status //-->
			        <div class="io">
		                <div class="status">
			                <i class="fa fa-circle-o-notch fa-fw fa-spin"></i>
		                </div>
	                </div>
			        <!--// End Socket Status //-->

			        <!--// Start Find a Friend Button //-->
			        <a href="javascript:void(0);" class="find-a-friend animated flipInX default"></a>
			        <div class="pulse1"></div>
			        <div class="pulse2"></div>
			        <!--// End Find a Friend Button //-->

			        <!--// Start Information Well //-->
	                <div class="information">

		                <!--// Start Socket Status //-->
		                <div class="connection">
			                <div class="connection-status">
				                <ul>
					                <li>
						                <div class="signal-strength">
							                <i class="fa fa-signal over three-bars"></i>
							                <i class="fa fa-signal under"></i>
						                </div>

						                GPS Accurate within <span id="gps-accuracy">15ft</span>
					                </li>
					                <li>
						                Your Friend is <span id="distance-away">150ft Away</span>
					                </li>
					                <li>
						                You'll want to be Facing <span id="facing-destination">NNE</span>
					                </li>
					                <li>
						                You're currently Facing <span id="facing-currently">SSW</span>
					                </li>
				                </ul>

			                </div>
		                </div>
		                <!--// End Socket Status //-->

		                <!--// Start Welcome Message //-->
		                <div class="welcome">
			                <i class="fa fa-chevron-up"></i>&nbsp; Tap Circle to Choose a Friend &nbsp;<i class="fa fa-chevron-up"></i>
		                </div>
		                <!--// End Welcome Message //-->

		                <!--// Start Main Status Bar //-->
		                <div class="status" id="app-status">
			                <div class="message">
				                <i class="fa fa-circle-o-notch fa-fw fa-spin"></i> Loading
			                </div>
		                </div>
		                <!--// End Main Status Bar //-->

		                <!--// Start Contact Options //-->
		                <div class="contact-options animated fadeInUp">

			                <a href="javascript:void(0);" id="sms" class="contact-option">
				                <i class="fa fa-comment fa-fw"></i> <span>SMS</span>
			                </a>

			                <a href="javascript:void(0);" id="email" class="contact-option">
				                <i class="fa fa-envelope fa-fw"></i> <span>Email</span>
			                </a>

			                <a href="javascript:void(0);" id="clipboard" class="contact-option">
				                <i class="fa fa-external-link-square fa-fw"></i> <span>Link</span>
			                </a>
		                </div>
		                <!--// End Contact Options //-->
	                </div>
			        <!--// End Information Well //-->
			        <div class="clouds">
				        <div class="cloud1"></div>
				        <div class="cloud2"></div>
				        <div class="cloud3"></div>
			        </div>
			        <div class="background"></div>
                </div>
		        <!--// End Facing //-->

		        <!--// Start About //-->
		        <div id="about" class="panel">
			        <div class="header-section"></div>
			        <div class="push-header panel-content">
				        About Facing
			        </div>
		        </div>
		        <!--// End About //-->

		        <!--// Start Feedback //-->
		        <div id="feedback" class="panel">
			        <div class="header-section feedback">
				        <i class="fa fa-comments fa-fw"></i> Feedback
			        </div>
			        <div class="push-header panel-content feedback">
				        <div class="feedback">
					        <textarea placeholder="Thanks for testing the Facing App. What do you think so far?" id="feedback-message"></textarea>
				        </div>
				        <button class="support-site"><i class="fa fa-external-link-square"></i>&nbsp; Support</button>
				        <button class="send-feedback">Submit &nbsp;<i class="fa fa-comment"></i></button>
			        </div>
		        </div>
		        <!--// End Feedback //-->

		        <!--// Start Developer Content //-->
                <div id="my-data" class="panel devonly">
	                <div class="header-section"></div>
	                <div class="push-header me panel-content panel-data">
                        <div class="compass">
                            <h3><span class="mode">My</span> Compass</h3>
                            <ul class="data"><li><strong>Loading</strong>:&nbsp; Waiting for Data</li></ul>
                        </div>

                        <div class="geolocation">
                            <h3><span class="mode">My</span> Geolocation</h3>
                            <ul class="data"><li><strong>Loading</strong>:&nbsp; Waiting for Data</li></ul>
                        </div>

                        <div class="acceleration">
                            <h3><span class="mode">My</span> Acceleration</h3>
                            <ul class="data"><li><strong>Loading</strong>:&nbsp; Waiting for Data</li></ul>
                        </div>
                    </div>
                </div>

                <div id="friends-data" class="panel devonly">
	                <div class="header-section"></div>
	                <div class="push-header friend panel-content panel-data">
                        <div class="compass">
                            <h3><span class="mode">Friends</span> Compass</h3>
                            <ul class="data"><li><strong>Loading</strong>:&nbsp; Waiting for Data</li></ul>
                        </div>

                        <div class="geolocation">
                            <h3><span class="mode">Friends</span> Geolocation</h3>
                            <ul class="data"><li><strong>Loading</strong>:&nbsp; Waiting for Data</li></ul>
                        </div>

                        <div class="acceleration">
                            <h3><span class="mode">Friends</span> Acceleration</h3>
                            <ul class="data"><li><strong>Loading</strong>:&nbsp; Waiting for Data</li></ul>
                        </div>
                    </div>
                </div>

	            <div id="dev-log" class="panel devonly">
		            <div class="header-section"></div>
		            <div class="clear-wrapper"><a href="javascript:void(0);" class="clear-log"><i class="fa fa-eraser"></i> Clear Console</a></div>
		            <div class="push-header output panel-content">
			            <ul></ul>
			            <div class="push"></div>
	                </div>
	            </div>
		        <!--// End Developer Content //-->

            </div>
	        <!--// End Content //-->
        </div>

        <!--// Start Intro Tour //-->
        <ol class='tourbus-legs' id='tourbus'>
	        <!-- INTRO -->
	        <li data-highlight='true' data-width='260' data-orientation='centered'>
		        <h3>Welcome to Facing</h3>
		        <p>This is a quick intro on how to use Facing. Click Next to continue, or Cancel if you're not in the mood.</p>
		        <div class='buttons'>
			        <a href='javascript:void(0);' style='float: right;' class='button remove-bottom tourbus-next'>Next &nbsp;<i class="fa fa-arrow-right"></i></a>
			        <a href='javascript:void(0);' style='float: left;' class='button remove-bottom tourbus-stop cancel'><i class="fa fa-times"></i>&nbsp; Cancel</a>
		        </div>
	        </li>

	        <!-- menu -->
	        <li data-el='#navToggle' data-highlight='true' data-scroll-to='false' data-width='220' data-orientation='right' data-align='center'>
		        <h4>Main Menu</h4>
		        <a href='javascript:void(0);' style='float: right;' class='button remove-bottom tourbus-next'>Next &nbsp;<i class="fa fa-arrow-right"></i></a>
	        </li>

	        <!-- contact -->
	        <li data-el='.find-a-friend' data-highlight='true' data-scroll-to='false' data-width='260' data-orientation='top' data-align='center'>
		        <h3>Pick a Friend</h3>
		        <p>Tap this Circle to Pick a Friend from your Contact List.</p>
		        <div class='buttons'>
			        <a href='javascript:void(0);' style='float: right;' class='button remove-bottom tourbus-next'>Next &nbsp;<i class="fa fa-arrow-right"></i></a>
		        </div>
	        </li>

	        <li data-el='#app-status' data-highlight='true' data-scroll-to='false' data-width='260' data-orientation='top' data-align='center'>
		        <h3>Send Invite Link</h3>
		        <p>Choose how you'd like to connect using available contact information.</p>
		        <div class='buttons'>
			        <a href='javascript:void(0);' style='float: right;' class='button remove-bottom tourbus-next'>Next &nbsp;<i class="fa fa-arrow-right"></i></a>
		        </div>
	        </li>

	        <li data-auto-progress='2500' data-el='.reset-gui' data-highlight='true' data-scroll-to='false' data-width='190' data-orientation='left' data-align='center'>
		        <h4>Cancel Anytime ...</h4>
	        </li>

	        <li data-auto-progress='3000' data-highlight='true' data-width='260' data-orientation='centered'>
		        <h3>Connecting ...</h3>
		        <p>Now, we just wait for your friend to connect.</p>
	        </li>

	        <li data-auto-progress='3000' data-highlight='true' data-width='260' data-orientation='centered'>
		        <h3>Connected ...</h3>
		        <p>Your Friend just popped up :)</p>
	        </li>

	        <li data-auto-progress='3000' data-el='.self-marker' data-highlight='true' data-scroll-to='false' data-width='220' data-orientation='left' data-align='center'>
		        <h4 class="no-margin">This is Your Friend ...</h4>
	        </li>

	        <li data-el='.find-a-friend' data-highlight='true' data-scroll-to='false' data-width='260' data-orientation='top' data-align='center'>
		        <h3>Look to Your Friend</h3>
		        <p>Move around until Your Friend is in the center of the screen.</p>
		        <div class='buttons'>
			        <a href='javascript:void(0);' style='float: right;' class='button remove-bottom tourbus-next'>Next &nbsp;<i class="fa fa-arrow-right"></i></a>
		        </div>
	        </li>

	        <li data-auto-progress='3000' data-highlight='true' data-scroll-to='false' data-width='260' data-orientation='centered'>
		        <h3>Face to Face ...</h3>
		        <p>Now you are Facing your friend :)</p>
	        </li>

	        <!-- End -->
	        <li data-orientation='centered' data-highlight='true' data-width='260' data-scroll-to='0'>
		        <h3>That's It :)</h3>
		        <p>If you ever need to see this again, you can just tap the Help option from the Main Menu.</p>
		        <div class='buttons'>
			        <a href='javascript:void(0);' style='float: right;' class='button remove-bottom tourbus-stop'>Done &nbsp;<i class="fa fa-check"></i></a>
			        <a href='javascript:void(0);' target="_blank" style='float: left;' class='button remove-bottom tourbus-stop cancel get-support'><i class="fa fa-comment"></i>&nbsp; Support</a>
		        </div>
	        </li>
        </ol>

        <div class='intro-tour-overlay'></div>

        <!--// Scripts ( lib, app & gui are managed by Grunt in ./src/js folder ) //-->
        <script src="cordova.js"></script>
        <script src="assets/js/config.js"></script>
        <script src="assets/js/lib.js"></script>
        <script src="assets/js/app.js"></script>
        <script src="assets/js/gui.js"></script>
        <script>
        // Inject Environment Specific Socket Script
	    (function(d, script){

	        try {
		        script = d.createElement('script');
		        script.type = 'text/javascript';
		        script.src = (config.app.env == 'dev')
				        ? config.app.dev.socket.js
				        : config.app.prod.socket.js;
		        script.async = false;

		        // Wait for Onload Event Before initializing
		        script.onload = function(){
			        app.initialize();
		        };

		        // There was a problem, but we're setup to handle it within the app
		        script.onerror = function(){
			        app.initialize(false);
		        };

		        d.getElementsByTagName('head')[0].appendChild(script);
	        }
	        catch(err)
	        {
		        app.util.debug('error', err.message);
	        }

        }(document));

        if(config.app.env == 'dev')
        {
	        document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>');
        }

        // Handler for Custom facing:// protocol
        function handleOpenURL(url)
        {
	        // This will set an internal flag to launch during app.initialize
	        app.launch_invite_code = url.replace('facing://invite/', '');

	        // Check if the app is already initialized ( use might have app running in background before tapping invite link )
	        if(app.initialized)
	        {
		        app.io.joinSpace(app.launch_invite_code, 'guest');
	        }
        }

        (function() {
	        var lastTime = 0;
	        var vendors = ['ms', 'moz', 'webkit', 'o'];
	        for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
		        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];
		        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame']
				        || window[vendors[x]+'CancelRequestAnimationFrame'];
	        }

	        if (!window.requestAnimationFrame)
		        window.requestAnimationFrame = function(callback, element) {
			        var currTime = new Date().getTime();
			        var timeToCall = Math.max(0, 16 - (currTime - lastTime));
			        var id = window.setTimeout(function() { callback(currTime + timeToCall); },
					        timeToCall);
			        lastTime = currTime + timeToCall;
			        return id;
		        };

	        if (!window.cancelAnimationFrame)
		        window.cancelAnimationFrame = function(id) {
			        clearTimeout(id);
		        };
        }());

        window.onbeforeunload = function(){
	        if(app.io.space)
	        {
		        app.io.leaveSpace();
	        }
        }
        </script>
    </body>
</html>
